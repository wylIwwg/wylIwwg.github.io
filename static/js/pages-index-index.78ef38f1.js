(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-index-index"],{"0104":function(t,n,e){"use strict";e.r(n);var a=e("dfb4"),i=e("8165");for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);e("2a45");var r,s=e("f0c5"),u=Object(s["a"])(i["default"],a["b"],a["c"],!1,null,"42cc47a0",null,!1,a["a"],r);n["default"]=u.exports},"24dd":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={data:function(){return{school:"",userType:-1,userText:"",username:""}},onLoad:function(){this.school=uni.getStorageSync("school"),this.userType=uni.getStorageSync("userType")},onShow:function(){uni.getStorageSync("token")?this.getUserInfo():uni.navigateTo({url:"../login/login"})},methods:{logout:function(){uni.removeStorageSync("token"),uni.removeStorageSync("userType"),uni.removeStorageSync("uid"),uni.removeStorageSync("class_id"),uni.removeStorageSync("stu_num"),uni.removeStorageSync("stu_name"),uni.navigateTo({url:"/pages/login/login"})},setUserText:function(t){var n={0:"管理员",1:"员工"};return n[t]},getUserInfo:function(){var n=this;console.log("getUserInfo begin"),uni.showLoading({title:"加载中..."});var e=uni.getStorageSync("token");e?t.callFunction({name:"validateToken",data:{token:uni.getStorageSync("token")}}).then(function(t){console.log("validateToken",t.result.data);try{var e=t.result.data,a=e.school;e.username;n.school=a,n.userType=uni.getStorageSync("userType"),n.userText=n.setUserText(userType),uni.showModal({content:"请求云函数发生错误，"+n.userType+" ",showCancel:!1})}catch(i){throw new Error("参数错误请重新登录")}uni.hideLoading()}).catch(function(t){uni.hideLoading()}):uni.navigateTo({url:"../login/login"})}}};n.default=e}).call(this,e("a9ff")["default"])},"2a45":function(t,n,e){"use strict";var a=e("a392"),i=e.n(a);i.a},8165:function(t,n,e){"use strict";e.r(n);var a=e("24dd"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,function(){return a[t]})}(o);n["default"]=i.a},"998f":function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,".content[data-v-42cc47a0]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.logo[data-v-42cc47a0]{height:%?200?%;width:%?200?%;margin-top:%?100?%;margin-left:auto;margin-right:auto;margin-bottom:%?50?%}.text-area[data-v-42cc47a0]{text-align:center}.tipText[data-v-42cc47a0]{text-align:left;margin:%?40?% 0}.title[data-v-42cc47a0]{font-size:20px;text-align:center;font-weight:700;margin-bottom:%?30?%;padding:20px 0}.buttonGroup[data-v-42cc47a0]{width:100%;margin-bottom:%?40?%}.buttonGroup .linkBtn[data-v-42cc47a0]{font-size:%?30?%;display:block;line-height:%?80?%;margin:0 auto;width:90%;text-align:center;margin-bottom:%?20?%;border-radius:%?40?%;box-shadow:0 3px 5px rgba(5,26,180,.35);font-weight:700;background:-webkit-linear-gradient(315deg,#576fec,#576fec 76%,#536dec 0);background:linear-gradient(135deg,#576fec,#576fec 76%,#536dec 0);color:#fff}.welcome[data-v-42cc47a0]{padding-left:22px;margin-bottom:35px}",""])},a392:function(t,n,e){var a=e("998f");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("56f8b58c",a,!0,{sourceMap:!1,shadowMode:!1})},dfb4:function(t,n,e){"use strict";var a,i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"text-area"},[e("v-uni-view",{staticStyle:{"margin-top":"150upx","margin-bottom":"100upx"}},[e("v-uni-text",{staticClass:"title"},[t._v(t._s(t.school)+"企业健康报备系统")])],1)],1),1===t.userType?e("v-uni-view",{staticClass:"buttonGroup"},[e("v-uni-navigator",{staticClass:"linkBtn",attrs:{url:"../staff/staff_day"}},[t._v("今日健康报备")])],1):t._e(),0===t.userType?e("v-uni-view",{staticClass:"buttonGroup"},[e("v-uni-view",{staticClass:"welcome"},[t._v("管理员，您好")]),e("v-uni-navigator",{staticClass:"linkBtn",attrs:{url:"../manager_bind/manager_bind"}},[t._v("绑定管理企业")]),e("v-uni-navigator",{staticClass:"linkBtn",attrs:{url:"/pages/list/list"}},[t._v("查看报备数据")])],1):t._e(),2===t.userType?e("v-uni-view",{staticClass:"buttonGroup"},[e("v-uni-view",{staticClass:"welcome"},[t._v("超级管理员，您好")]),e("v-uni-navigator",{staticClass:"linkBtn",attrs:{url:"../administrator/admin_grade"}},[t._v("公司管理")]),e("v-uni-navigator",{staticClass:"linkBtn",attrs:{url:"../administrator/admin_class"}},[t._v("员工管理")]),e("v-uni-navigator",{staticClass:"linkBtn",attrs:{url:"../manager_bind/manager_bind"}},[t._v("绑定管理企业")]),e("v-uni-navigator",{staticClass:"linkBtn",attrs:{url:"/pages/list/list"}},[t._v("查看报备数据")])],1):t._e(),e("v-uni-button",{staticClass:"cu-btn bg-blue lg",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.logout.apply(void 0,arguments)}}},[t._v("退出登录")])],1)},o=[];e.d(n,"b",function(){return i}),e.d(n,"c",function(){return o}),e.d(n,"a",function(){return a})}}]);