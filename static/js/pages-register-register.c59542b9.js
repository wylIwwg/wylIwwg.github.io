(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-register-register"],{1793:function(t,n,e){"use strict";e.r(n);var a=e("728d"),i=e.n(a);for(var o in a)"default"!==o&&function(t){e.d(n,t,function(){return a[t]})}(o);n["default"]=i.a},"1dc7":function(t,n,e){"use strict";var a={"wuc-tab":e("8fd5").default},i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-uni-view",[e("v-uni-view",{staticClass:"container"},[e("v-uni-view",{staticClass:"title"},[e("v-uni-text",[t._v(t._s(t.school)+"企业健康报备系统")])],1),e("wuc-tab",{attrs:{textFlex:!0,"tab-list":t.tabList,tabCur:t.userType,"tab-class":"text-center text-black bg-white swiper-title","select-class":"text-blue"},on:{"update:tabCur":function(n){arguments[0]=n=t.$handleEvent(n),t.userType=n},"update:tab-cur":function(n){arguments[0]=n=t.$handleEvent(n),t.userType=n}}}),e("v-uni-swiper",{staticClass:"swiper",attrs:{current:t.userType,duration:"300",circular:!0,"indicator-color":"rgba(255,255,255,0)","indicator-active-color":"rgba(255,255,255,0)"}},[e("v-uni-swiper-item",{key:"admin"},[e("v-uni-view",{staticClass:"desc"},[e("v-uni-view",[t._v("（管理员的注册方式请咨询上级领导）")])],1)],1),e("v-uni-swiper-item",{key:"students"},[e("v-uni-view",{staticClass:"desc "},[e("v-uni-view",[t._v("员工注册后可关联自己的所在企业上报健康状况")])],1)],1)],1),e("v-uni-view",{staticClass:"login-form margin-top"},[e("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请输入用户名"},model:{value:t.username,callback:function(n){t.username=n},expression:"username"}}),e("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请输入密码",password:"true"},model:{value:t.password,callback:function(n){t.password=n},expression:"password"}}),e("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请再次确认密码",password:"true"},model:{value:t.repeatPassword,callback:function(n){t.repeatPassword=n},expression:"repeatPassword"}}),e("div",{staticClass:"buttonGroup"},[e("v-uni-button",{attrs:{type:"primary"},on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.signUp.apply(void 0,arguments)}}},[t._v("注册")])],1),e("v-uni-navigator",{staticClass:"linkBtn",attrs:{url:"/pages/login/login"}},[e("v-uni-text",[t._v("已有账号？点击登录")])],1)],1)],1)],1)},o=[];e.d(n,"b",function(){return i}),e.d(n,"c",function(){return o}),e.d(n,"a",function(){return a})},"728d":function(t,n,e){"use strict";(function(t){var a=e("288e");Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=a(e("795b")),o=a(e("8fd5")),s=a(e("2e4e")),u={data:function(){return{username:"",password:"",repeatPassword:"",tabList:[{name:"管理员",icon:"cuIcon-wifi"},{name:"员工",icon:"cuIcon-dianhua"}],userType:0,school:""}},components:{WucTab:o.default,uniIcons:s.default},computed:{},onLoad:function(){this.school=uni.getStorageSync("school")},methods:{tabChange:function(t){this.userType=t},signUp:function(){var n=this.username,e=this.password,a=this.repeatPassword,o=this.userType;a===e?n.indexOf("ls")&&0==this.userType?uni.showModal({content:"管理员的注册方式请咨询上级领导",showCancel:!1}):n.indexOf("admin")&&3==this.userType?uni.showModal({content:"您不是管理，请离开",showCancel:!1}):(console.log(o),uni.showLoading({title:"注册中..."}),t.callFunction({name:"signUp",data:{username:n,password:e,userType:o}}).then(function(t){if(uni.hideLoading(),0!==t.result.status)return i.default.reject(new Error(t.result.msg));uni.setStorageSync("token",t.result.token),uni.showToast({icon:"none",title:"注册成功，请重新登录",success:function(){uni.redirectTo({url:"../login/login"})}})}).catch(function(t){console.log(t),uni.hideLoading(),uni.showModal({content:"注册失败，"+t.message,showCancel:!1})})):uni.showModal({content:"两次密码不一致",showCancel:!1})},validateToken:function(){uni.showLoading({title:"加载中..."}),t.callFunction({name:"validateToken",data:{token:uni.getStorageSync("token")}}).then(function(t){console.log(t),uni.hideLoading(),uni.showModal({content:t.result.msg,showCancel:!1})}).catch(function(t){uni.hideLoading(),uni.showModal({content:"请求云函数发生错误，"+t.message,showCancel:!1})})}},onReady:function(){}};n.default=u}).call(this,e("a9ff")["default"])},"8dd4":function(t,n,e){var a=e("b3df");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=e("4f06").default;i("a845cd46",a,!0,{sourceMap:!1,shadowMode:!1})},b029:function(t,n,e){"use strict";var a=e("8dd4"),i=e.n(a);i.a},b3df:function(t,n,e){n=t.exports=e("2350")(!1),n.push([t.i,".weixinBtn[data-v-6095a97a]{color:#007aff;text-align:center;font-size:%?22?%;border-top:%?1?% #333 solid;margin-top:%?50?%;padding-top:%?50?%}.weixinBtn div[data-v-6095a97a]{color:#333;margin-bottom:%?20?%}.linkBtn[data-v-6095a97a]{color:#007aff;text-align:right;font-size:%?22?%}.swiper[data-v-6095a97a]{height:%?100?%}.buttonGroup[data-v-6095a97a]{display:-webkit-box;display:-webkit-flex;display:flex}.swiper-title[data-v-6095a97a]{font-size:%?30?%}.buttonGroup uni-button[data-v-6095a97a]:first-child{margin-right:%?20?%}.container[data-v-6095a97a]{padding:30px}.title[data-v-6095a97a]{text-align:center;font-size:20px;font-weight:700;padding:20px 0}.desc[data-v-6095a97a]{padding:10px 0;font-size:14px;line-height:22px;color:#999}.login-form uni-input[data-v-6095a97a]{height:40px;border:solid 1px #ddd;text-indent:10px}.login-form uni-button[data-v-6095a97a],.login-form uni-input[data-v-6095a97a]{width:100%;margin-bottom:10px}",""])},d543:function(t,n,e){"use strict";e.r(n);var a=e("1dc7"),i=e("1793");for(var o in i)"default"!==o&&function(t){e.d(n,t,function(){return i[t]})}(o);e("b029");var s,u=e("f0c5"),r=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"6095a97a",null,!1,a["a"],s);n["default"]=r.exports}}]);