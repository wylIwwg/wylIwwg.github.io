(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-weixinRegister-weixinRegister"],{"0ecf":function(t,e,n){"use strict";var a=n("9cd8"),i=n.n(a);i.a},"34e1":function(t,e,n){"use strict";(function(t){var a=n("288e");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("795b")),o=a(n("8fd5")),s=a(n("2e4e")),r={data:function(){return{username:"",password:"",code:"",repeatPassword:"",tabList:[{name:"管理员",icon:"cuIcon-comment"},{name:"员工",icon:"cuIcon-dianhua"}],userType:0}},components:{WucTab:o.default,uniIcons:s.default},computed:{},onLoad:function(){},methods:{tabChange:function(t){this.userType=t},bindUser:function(){var e=this,n=this.username,a=this.password,o=this.repeatPassword,s=this.userType;this.code;o===a?n.length<6||a.length<6?uni.showModal({content:"用户名密码长度均不能小于6",showCancel:!1}):(uni.showLoading({title:"注册中..."}),this.getCode().then(function(t){e.code=t}).then(function(o){t.callFunction({name:"wexinSingUp",data:{username:n,password:a,code:e.code,userType:s}}).then(function(t){if(uni.hideLoading(),console.log(t),0!==t.result.status)return i.default.reject(new Error(t.result.msg));uni.setStorageSync("token",t.result.token),uni.showModal({content:"注册成功",showCancel:!1})}).catch(function(t){uni.hideLoading(),uni.showModal({content:"注册失败，"+t.message,showCancel:!1})})})):uni.showModal({content:"两次密码不一致",showCancel:!1})},getCode:function(){return new i.default(function(t,e){uni.login({provider:"weixin",success:function(n){n.code?t(n.code):e(new Error("微信登录失败"))},fail:function(t){e(new Error("微信登录失败"))}})})}},onReady:function(){}};e.default=r}).call(this,n("a9ff")["default"])},"49e7":function(t,e,n){"use strict";n.r(e);var a=n("b639"),i=n("c427");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("0ecf");var s,r=n("f0c5"),u=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"4ea749bb",null,!1,a["a"],s);e["default"]=u.exports},"9cd8":function(t,e,n){var a=n("f081");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("0890fba2",a,!0,{sourceMap:!1,shadowMode:!1})},b639:function(t,e,n){"use strict";var a={"wuc-tab":n("8fd5").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"title"},[n("v-uni-text",[t._v("企业健康报备系统")])],1),n("wuc-tab",{attrs:{textFlex:!0,"tab-list":t.tabList,tabCur:t.userType,"tab-class":"text-center text-black bg-white swiper-title","select-class":"text-blue"},on:{"update:tabCur":function(e){arguments[0]=e=t.$handleEvent(e),t.userType=e},"update:tab-cur":function(e){arguments[0]=e=t.$handleEvent(e),t.userType=e}}}),n("v-uni-swiper",{staticClass:"swiper",attrs:{current:t.userType,duration:"300",circular:!0,"indicator-color":"rgba(255,255,255,0)","indicator-active-color":"rgba(255,255,255,0)"}},[n("v-uni-swiper-item",{key:"teacher"},[n("v-uni-view",{staticClass:"desc"},[n("v-uni-view",[t._v("管理员注册后可监控员工状况")])],1)],1),n("v-uni-swiper-item",{key:"students"},[n("v-uni-view",{staticClass:"desc"},[n("v-uni-view",[t._v("员工注册后可上报健康状况")])],1)],1)],1),n("v-uni-view",{staticClass:"login-form"},[n("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请输入用户名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请输入密码",password:"true"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-uni-input",{attrs:{type:"text",value:"",placeholder:"请再次确认密码",password:"true"},model:{value:t.repeatPassword,callback:function(e){t.repeatPassword=e},expression:"repeatPassword"}}),n("div",{staticClass:"buttonGroup"},[n("v-uni-button",{attrs:{type:"primary"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.bindUser.apply(void 0,arguments)}}},[t._v("绑定")])],1),n("v-uni-navigator",{staticClass:"linkBtn",attrs:{url:"/pages/login/login"}},[n("v-uni-text",[t._v("已有账号？点击登录")])],1)],1)],1)],1)},o=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"a",function(){return a})},c427:function(t,e,n){"use strict";n.r(e);var a=n("34e1"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,function(){return a[t]})}(o);e["default"]=i.a},f081:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".weixinBtn[data-v-4ea749bb]{color:#007aff;text-align:center;font-size:%?22?%;border-top:%?1?% #333 solid;margin-top:%?50?%;padding-top:%?50?%}.weixinBtn div[data-v-4ea749bb]{color:#333;margin-bottom:%?20?%}.linkBtn[data-v-4ea749bb]{color:#007aff;text-align:right;font-size:%?22?%}.swiper[data-v-4ea749bb]{height:%?100?%}.buttonGroup[data-v-4ea749bb]{display:-webkit-box;display:-webkit-flex;display:flex}.swiper-title[data-v-4ea749bb]{font-size:%?30?%}.buttonGroup uni-button[data-v-4ea749bb]:first-child{margin-right:%?20?%}.container[data-v-4ea749bb]{padding:30px}.title[data-v-4ea749bb]{text-align:center;font-size:20px;font-weight:700;padding:20px 0}.desc[data-v-4ea749bb]{padding:10px 0;font-size:14px;line-height:22px;color:#999}.login-form uni-input[data-v-4ea749bb]{height:40px;border:solid 1px #ddd;text-indent:10px}.login-form uni-button[data-v-4ea749bb],.login-form uni-input[data-v-4ea749bb]{width:100%;margin-bottom:10px}",""])}}]);